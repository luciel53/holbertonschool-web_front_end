<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <meta charset="utf-8" />
		<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>


		<title>Task 0</title>

    </head>

    <body>
		<script type="application/javascript">
			function createFamilyTree () {
				$("body").append("<table></table>");
				$("table").append(
					$("<thead>").append(
						$("<tr>").append(
							$("<th>").text("Firstname"),
							$("<th>").text("Lastname"))));
				$("table").append("<tbody>");

			};

			function addNewMember (firstName, lastName, position) {
				let $line = $("<tr>").append(
					$("<td>").text(firstName),
					$("<td>").text(lastName),
					$("<td>").text("x").css("background-color", "orange").on("click", function () {
						$(this).closest("tr").remove();
					})
				);
				if (position === "before") {
					$("tbody").prepend($line);
				}
				else {
					$("tbody").append($line);
				};
			};

			function createForm () {
				// crate imput + select
				$("table").before("<input type=text>");
				$("table").before("<input type=text>");
				$("table").before(
					$("<select>").append(
					$("<option value='before'>").text("Before"),
					$("<option value='after'>").text("After"),
				));
				$("table").before("<input type=submit>");
				$("input:nth-of-type(3)").on("click", function () {
					// associate the value of the field to the variable
					let firstName = $("input[type='text']:eq(0)").val();
					let lastName = $("input[type='text']:eq(1)").val();
					let position = $("select").val();
					// call addNewMember function
					addNewMember(firstName, lastName, position);
				});
			};


			$(function () {
				createFamilyTree();
				createForm();
				addNewMember('Guillaume', 'Salva');
				addNewMember('Arielle', 'Snizt');
				addNewMember('Fanette', 'Snizt');
				addNewMember('Gerard', 'Snizt');
				addNewMember('Victor', 'Salva');
			});
				</script>

    </body>

</html>
